name: Reusable workflow

on:
  workflow_call:
  push:
    branches:
      - 'master'
    paths:
      - 'Dockerfile'
      - 'requirements/**.txt'
      - '.github/workflows/diagram.yml'
      - 'themes/**'
      - '.gitmodules'

jobs:
  call-another-reusable:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.SECRET_DIAGRAM }}

      - name: Call another workflow
        uses: eol-uchile/edx-staging/.github/workflows/diagram.yml@eol-release/koa
